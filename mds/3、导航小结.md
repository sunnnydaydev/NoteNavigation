# 导航总结

NavController是NavHost内的一个成员，页面间的跳转由NavController来控制完成。NavController提供了不同navigate重载方法，代表着页面跳转的不同
实现方式。

###### 1、NavController的获取

根据所处的位置不同，我们获取NavController的方式也有所不同一般有三种获取方式：


```kotlin
Fragment.findNavController()

View.findNavController()

Activity.findNavController(viewId: Int)
```

```java
NavHostFragment.findNavController(Fragment)
        
Navigation.findNavController(Activity, @IdRes int viewId)
        
Navigation.findNavController(View)
```

###### 2、常见的导航方式

（1）Safe Args 进行导航

使用的重载方法：

```kotlin
       navigate(directions: NavDirections) // safe args 方式可生成NavDirections对象。
```

这个要借助gradle 插件：

```gradle
buildscript {
    repositories {
        google()
    }
    dependencies {
        def nav_version = "2.5.0"
        classpath "androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version"
    }
}
```
```kotlin
plugins {
  // 生成适用于 Java 模块或 Java 和 Kotlin 混合模块的 Java 语言代码
  id 'androidx.navigation.safeargs'
    
  // 生成仅适用于 Kotlin 模块的 Kotlin 语言代码
  id 'androidx.navigation.safeargs.kotlin'
}
```

配置好gradle插件后，系统则会为Fragment，action，argument 生成对应的导航类、导航方法、导航参数。

（2）使用资源id进行导航

```kotlin
       navigate(@IdRes resId: Int) //直接通过资源Id进行导航。(支持actionId 或者 目的地fragment id)
```


（3）deeplink进行导航

       navigate(deepLink: Uri) // 通过uri进行导航

###### 3、导航选项

       NavOptions：此类包含从目标目的地往返的所有特殊配置，包括动画资源配置、弹出行为以及是否应在单一顶级模式下启动目的地。

###### 4、导航相关的返回栈

       基础
       支持多个返回栈